<html>
  <head>
    <title>ðŸ•¶</title>
    <link href="https://fonts.googleapis.com/css?family=Passion+One" rel="stylesheet">
    <style> 
      body {
        align-items: center;
        display: flex;
        height: 100vh;
        justify-content: center;
        margin: 0;
      }
      
      p {
        animation: appear 1s forwards;
        color: rgba(0, 0, 0, .75);
        font: 10vw/.95 'Passion One', cursive;
        margin: 5vh 5vw;
        text-align: center;
        text-transform: uppercase;
      }
      
      @keyframes appear {
        from { transform: translateY(-10px); opacity: 0; }
        to { transform: translateY(0px); opacity: 1; }
      }
    </style>
  </head>
  <body>
    <p></p>
    <script>
      const colors = ['#d11141', '#00b159', '#00aedb', '#f37735', '#ffc425'];
      document.body.style.background = colors[Math.floor(colors.length * Math.random())];
      
      function fetchMessage() {
        fetch("https://api.github.com/repos/jtangelder/jtangelder.github.io/issues", {
          cache: "no-cache"
        })
          .then(response => response.json())
          .then(issues => {
            return issues.find(issue => {
              return issue.author_association === 'OWNER' && 
                issue.state === 'open' &&
                issue.title.startsWith('#blog');
            })
          })
          .then(message => {
            if (message && message.body) {
              document.querySelector('p').textContent = message.body;
            }
          })
          .then(() => setTimeout(fetchMessage, 5 * 1000));
      }
      fetchMessage();
    </script>
  </body>
</html>
